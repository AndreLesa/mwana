<VirtualHost *:80>
    ServerName staging.mwana
    
    WSGIScriptReloading On
    WSGIReloadMechanism Process
    WSGIDaemonProcess mwana-staging
    WSGIProcessGroup mwana-staging
    WSGIApplicationGroup mwana-staging
    WSGIPassAuthorization On
    
    WSGIScriptAlias / /home/deployer/staging/mwana/apache/project.wsgi/
    
    <Location "/">
       Order Allow,Deny
       Allow from all
    </Location>
    
    <Location "/static">
      SetHandler None
    </Location>
    
    # static media for rapidsms app
    Alias /static/rapidsms /home/deployer/staging/mwana/submodules/rapidsms/lib/rapidsms/static
    
    # static media for contrib apps
    Alias /static/locations /home/deployer/staging/mwana/submodules/rapidsms/lib/rapidsms/contrib/locations/static
    Alias /static/httptester /home/deployer/staging/mwana/submodules/rapidsms/lib/rapidsms/contrib/httptester/static
    Alias /static/messagelog /home/deployer/staging/mwana/submodules/rapidsms/lib/rapidsms/contrib/messagelog/static
    
    # static media for project apps
    Alias /static/supply /home/deployer/staging/mwana/apps/supply/static
    
    # Django admin media
    <Directory "/usr/lib/pymodules/python2.6/django/contrib/admin/media">
      Options Indexes FollowSymLinks MultiViews
      AllowOverride All
      Order allow,deny
      allow from all
    </Directory>
    
    Alias /admin-media /usr/lib/pymodules/python2.6/django/contrib/admin/media
    
    <Location "/admin-media">
      SetHandler None
    </Location>
    
    ErrorLog /home/deployer/log/staging.error.log
    LogLevel warn
    CustomLog /home/deployer/log/staging.access.log combined
    
</VirtualHost>
